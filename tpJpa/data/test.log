/*C2*/SET SCHEMA PUBLIC
drop table Appareil if exists
drop table Chauffage if exists
drop table Maison if exists
drop table Personne if exists
drop table Personne_Personne if exists
create table Appareil (id integer generated by default as identity (start with 1), consomation float not null, nom varchar(255), proprio_id integer, primary key (id))
create table Chauffage (id integer generated by default as identity (start with 1), conso float not null, maison_id integer, primary key (id))
create table Maison (id integer generated by default as identity (start with 1), adresse varchar(255), nbPieces integer not null, taille float not null, proprio_id integer, primary key (id))
create table Personne (id integer generated by default as identity (start with 1), nom varchar(255), prenom varchar(255), primary key (id))
create table Personne_Personne (Personne_id integer not null, amis_id integer not null)
alter table Appareil add constraint FK499159162B61149B foreign key (proprio_id) references Personne
alter table Chauffage add constraint FKDA13F066EDF8B924 foreign key (maison_id) references Maison
alter table Maison add constraint FK88ED883D2B61149B foreign key (proprio_id) references Personne
alter table Personne_Personne add constraint FKE605DADF34546C44 foreign key (Personne_id) references Personne
alter table Personne_Personne add constraint FKE605DADF181FD17A foreign key (amis_id) references Personne
INSERT INTO PERSONNE VALUES(1,'Sahraoui','Hedi Theo')
INSERT INTO APPAREIL VALUES(1,120.0E0,'TV',1)
INSERT INTO APPAREIL VALUES(2,19.0E0,'lecteurDVD',1)
INSERT INTO APPAREIL VALUES(3,200.0E0,'homecinema',1)
INSERT INTO MAISON VALUES(1,'4 boulevard Solferino',2,60.0E0,NULL)
INSERT INTO CHAUFFAGE VALUES(1,50.0E0,1)
INSERT INTO CHAUFFAGE VALUES(2,80.0E0,1)
INSERT INTO PERSONNE VALUES(2,'Josso','Yvann')
INSERT INTO APPAREIL VALUES(4,200.0E0,'micro ondes',NULL)
INSERT INTO APPAREIL VALUES(5,200.0E0,'four',NULL)
INSERT INTO APPAREIL VALUES(6,100.0E0,'smart phone',NULL)
INSERT INTO MAISON VALUES(2,'5 square Dr Guerin',2,50.0E0,2)
INSERT INTO CHAUFFAGE VALUES(3,50.0E0,2)
INSERT INTO CHAUFFAGE VALUES(4,60.0E0,2)
INSERT INTO CHAUFFAGE VALUES(5,80.0E0,2)
INSERT INTO PERSONNE VALUES(3,'Gregoire','Thomas')
INSERT INTO APPAREIL VALUES(7,80.0E0,'tablette',2)
INSERT INTO APPAREIL VALUES(8,120.0E0,'imprimante',2)
INSERT INTO MAISON VALUES(3,'64 boulevard Raymond Poincarr\u00e9',3,80.0E0,1)
INSERT INTO CHAUFFAGE VALUES(6,70.0E0,3)
INSERT INTO CHAUFFAGE VALUES(7,60.0E0,3)
DELETE FROM MAISON WHERE ID=1
INSERT INTO MAISON VALUES(1,'4 boulevard Solferino',2,60.0E0,3)
DELETE FROM APPAREIL WHERE ID=4
INSERT INTO APPAREIL VALUES(4,200.0E0,'micro ondes',3)
DELETE FROM APPAREIL WHERE ID=5
INSERT INTO APPAREIL VALUES(5,200.0E0,'four',3)
DELETE FROM APPAREIL WHERE ID=6
INSERT INTO APPAREIL VALUES(6,100.0E0,'smart phone',3)
INSERT INTO PERSONNE_PERSONNE VALUES(1,2)
INSERT INTO PERSONNE_PERSONNE VALUES(1,3)
INSERT INTO PERSONNE_PERSONNE VALUES(2,3)
INSERT INTO PERSONNE_PERSONNE VALUES(2,1)
INSERT INTO PERSONNE_PERSONNE VALUES(3,2)
INSERT INTO PERSONNE_PERSONNE VALUES(3,1)
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
